<%- include('partials/head.ejs') %>

    <seciton class="content">
        <div class="container-fluid">
            <div class="p-4 mt-2">
                
                <div id="file-content">
                    <%= file %>
                </div>

                <div class="search-input mb-4">
                    <nav class="navbar bg-body-tertiary">
                        <form class="container-fluid">
                            <div class="input-group">
                              <span class="input-group-text" id="basic-addon1">
                                <a href="<%= basePath %>">
                                    <i class="bi bi-chevron-left"></i>
                                </a>
                              </span>
                              <input type="text" id="myInput" class="form-control" onkeyup="myFunction()" placeholder="Filter file content..." aria-label="Filter file content..." aria-describedby="basic-addon1">
                            </div>
                          </form>
                    </nav>
                </div>

                <table id="myTable">
                    <tbody id="parsed-file"></tbody>
                </table>
            </div>
        </div>
    </seciton>

    <script>
        const string = document.getElementById('file-content').textContent;
        const lines = string.split("\n");

        for (const line of lines) {

            if(line !== "") {
                const tr = document.createElement("tr");
                tr.innerHTML = `<td>${line.trim()}</td>`;
                document.getElementById('parsed-file').appendChild(tr);
            }

            document.getElementById('file-content').style.display = 'none';

        }
    </script>

<%- include('partials/footer.ejs') %>